
RecordObject:
  type: Object
  fields:
    DeviceId: String
    StreamId: String
    LastUpdate:
      description: A UNIX timestamp rapresenting the last update of a record
      type: Number
    Channels:
      description: A list of key/value matching those indicated in the DeviceDefinition
      type: KeyValue

iot.agile.Storage:
  Create:
    description: Creates a record
    args:
      record: RecordObject
    return:
      description: Return the Id of the created record
      type: String
  Read:
    description: Load a record by Id
    args:
      Id: String
    return:
      description: Return the corresponding record
      type: RecordObject
  Update:
    description: Updates a record
    args:
      Id: String
      Record: RecordObject
    return: void
  Delete:
    description: Delete a record by Id
    args:
      Id: String
    return: void
  Find:
    description: Search for a set of records by criterias
    args:
      query: BaseQuery
    return:
      type: Array
      fields: RecordObject

  #Batch(str op, ..args)
  #Connections array[iot.agile.Storage.Driver]
